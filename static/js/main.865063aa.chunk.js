(this["webpackJsonpworkout-timer"]=this["webpackJsonpworkout-timer"]||[]).push([[0],{13:function(e,t,n){e.exports=n.p+"static/media/beeps.35c4e33a.mp3"},15:function(e,t,n){e.exports=n(28)},20:function(e,t,n){},28:function(e,t,n){"use strict";n.r(t);var i=n(0),a=n.n(i),s=n(12),r=n.n(s),o=(n(20),n(3)),c=n(4),l=n(6),u=n(5),p=n(7),m=n(2),d=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(o.a)(this,n);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).changeHandler=function(t){console.log(t.target.value);var n=t.target.name,i=Number(t.target.value);e.props.updateConfig(Object(m.a)(Object(m.a)({},e.props.config),{},Object(p.a)({},n,i)))},e}return Object(c.a)(n,[{key:"increaseNumberOfExercises",value:function(){var e=this.props.config.numberOfExercises;this.props.updateConfig(Object(m.a)(Object(m.a)({},this.props.config),{},{numberOfExercises:e+1}))}},{key:"decreaseNumberOfExercises",value:function(){var e=this.props.config.numberOfExercises;this.props.updateConfig(Object(m.a)(Object(m.a)({},this.props.config),{},{numberOfExercises:e-1}))}},{key:"increaseDurationOfExercises",value:function(){var e=this.props.config.durationOfExercises;this.props.updateConfig(Object(m.a)(Object(m.a)({},this.props.config),{},{durationOfExercises:e+5}))}},{key:"decreaseDurationOfExercises",value:function(){var e=this.props.config.durationOfExercises;this.props.updateConfig(Object(m.a)(Object(m.a)({},this.props.config),{},{durationOfExercises:e-5}))}},{key:"increaseDurationOfBreak",value:function(){var e=this.props.config.durationOfBreak;this.props.updateConfig(Object(m.a)(Object(m.a)({},this.props.config),{},{durationOfBreak:e+5}))}},{key:"decreaseDurationOfBreak",value:function(){var e=this.props.config.durationOfBreak;this.props.updateConfig(Object(m.a)(Object(m.a)({},this.props.config),{},{durationOfBreak:e-5}))}},{key:"increaseNumberOfSets",value:function(){var e=this.props.config.numberOfSets;this.props.updateConfig(Object(m.a)(Object(m.a)({},this.props.config),{},{numberOfSets:e+1}))}},{key:"decreaseNumberOfSets",value:function(){var e=this.props.config.numberOfSets;this.props.updateConfig(Object(m.a)(Object(m.a)({},this.props.config),{},{numberOfSets:e-1}))}},{key:"increaseBreakBetweenSets",value:function(){var e=this.props.config.breakBetweenSets;this.props.updateConfig(Object(m.a)(Object(m.a)({},this.props.config),{},{breakBetweenSets:e+5}))}},{key:"decreaseBreakBetweenSets",value:function(){var e=this.props.config.breakBetweenSets;this.props.updateConfig(Object(m.a)(Object(m.a)({},this.props.config),{},{breakBetweenSets:e-5}))}},{key:"render",value:function(){return a.a.createElement("div",{style:{maxWidth:"30em",margin:"3em auto"}},a.a.createElement("h1",{style:{textAlign:"center"}},"Exercise Timer"),a.a.createElement("div",{style:f.inputGroup},a.a.createElement("label",{style:f.label},"Exercises"),a.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"}},a.a.createElement("button",{style:f.buttonLarge,onClick:this.decreaseNumberOfExercises.bind(this)},"\u2013"),a.a.createElement("input",{class:"monospace",style:f.inputLarge,name:"numberOfExercises",value:this.props.config.numberOfExercises,onChange:this.changeHandler}),a.a.createElement("button",{style:f.buttonLarge,onClick:this.increaseNumberOfExercises.bind(this)},"+")),a.a.createElement("span",{style:f.smallLabel},"Per Set")),a.a.createElement("div",{style:{display:"flex",marginBottom:50}},a.a.createElement("div",{style:{width:"50%"}},a.a.createElement("label",{style:f.label},"Work"),a.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"}},a.a.createElement("button",{style:f.button,onClick:this.decreaseDurationOfExercises.bind(this)},"\u2013"),a.a.createElement("input",{class:"monospace",style:f.input,name:"durationOfExercises",value:this.props.config.durationOfExercises,onChange:this.changeHandler}),a.a.createElement("button",{style:f.button,onClick:this.increaseDurationOfExercises.bind(this)},"+")),a.a.createElement("span",{style:f.smallLabel},"Seconds")),a.a.createElement("div",{style:{width:"50%"}},a.a.createElement("label",{style:f.label},"Break"),a.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"}},a.a.createElement("button",{style:f.button,onClick:this.decreaseDurationOfBreak.bind(this)},"\u2013"),a.a.createElement("input",{class:"monospace",style:f.input,name:"durationOfBreak",value:this.props.config.durationOfBreak,onChange:this.changeHandler}),a.a.createElement("button",{style:f.button,onClick:this.increaseDurationOfBreak.bind(this)},"+")),a.a.createElement("span",{style:f.smallLabel},"Seconds"))),a.a.createElement("div",{style:{display:"flex",marginBottom:50}},a.a.createElement("div",{style:{width:"50%"}},a.a.createElement("label",{style:f.label},"Sets"),a.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"}},a.a.createElement("button",{style:f.button,onClick:this.decreaseNumberOfSets.bind(this)},"\u2013"),a.a.createElement("input",{class:"monospace",style:f.input,name:"numberOfSets",value:this.props.config.numberOfSets,onChange:this.changeHandler}),a.a.createElement("button",{style:f.button,onClick:this.increaseNumberOfSets.bind(this)},"+"))),a.a.createElement("div",{style:{width:"50%"}},a.a.createElement("label",{style:f.label},"Break between sets"),a.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"}},a.a.createElement("button",{style:f.button,onClick:this.decreaseBreakBetweenSets.bind(this)},"\u2013"),a.a.createElement("input",{class:"monospace",style:f.input,name:"breakBetweenSets",value:this.props.config.breakBetweenSets,onChange:this.changeHandler}),a.a.createElement("button",{style:f.button,onClick:this.increaseBreakBetweenSets.bind(this)},"+")),a.a.createElement("span",{style:f.smallLabel},"Seconds"))),a.a.createElement("button",{style:f.startButton,onClick:this.props.handleStart},"Start"))}}]),n}(a.a.Component),f={inputGroup:{marginBottom:"2em",texAlign:"center"},label:{display:"block",fontSize:"1.5em",textAlign:"center"},smallLabel:{display:"block",fontSize:"0.8em",letterSpacing:"0.05em",color:"rgba(255,255,255,0.5",fontWeight:600,textTransform:"uppercase",textAlign:"center"},inputLarge:{backgroundColor:"transparent",border:"none",fontSize:80,color:"white",textAlign:"center",width:100,fontWeight:500},buttonLarge:{backgroundColor:"transparent",border:"none",outline:"none",color:"white",fontSize:40,width:40},input:{backgroundColor:"transparent",border:"none",fontSize:40,color:"white",textAlign:"center",width:75,fontWeight:500},button:{backgroundColor:"transparent",border:"none",outline:"none",color:"white",fontSize:20,width:20,cursor:"pointer"},startButton:{borderRadius:500,border:"none",padding:"15px 40px",color:"white",backgroundColor:"#176FF2",fontSize:22,display:"block",margin:"20px auto",cursor:"pointer"}},h=d,b=n(1),g=n.n(b),v=n(8),y=n.n(v),E=n(9),O=n.n(E),k=n(13),S=n.n(k);y()(g.a);var x=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var i;return Object(o.a)(this,n),(i=t.call(this,e)).state={totalTimeRemaining:null,overallTimePercentage:0,activityTimeRemaining:g.a.duration(g()(i.props.timestamps.activityTimestamps[0].endTime).diff(i.props.timestamps.activityTimestamps[0].endTime.startTime)).format("mm:ss",{trim:!1}),activityTimePercentage:0,currentActivity:i.props.timestamps.activityTimestamps[0],nextActivity:i.props.timestamps.activityTimestamps[1],playBeeps:!1,progressBarReset:!0},i}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.updateDisplay(),this.setState({progressBarReset:!0}),this.props.isRunning&&(this.interval=setInterval((function(){e.updateDisplay()}),1e3))}},{key:"updateDisplay",value:function(){var e=this.props.timestamps,t=g()();if(e.overallEndingTime<t)this.props.handleStop();else{var n=g.a.duration(g()(e.overallEndingTime).diff(t)),i=100*(1-g.a.duration(g()(e.overallEndingTime).diff(t)/g.a.duration(g()(e.overallEndingTime).diff(e.startTime))));this.setState({totalTimeRemaining:n,overallTimePercentage:i});var a=this.state.currentActivity;if(g()(a.endTime).isBefore(t)){var s,r=this.props.timestamps.activityTimestamps;for(s=0;s<r.length;s++)g()(r[s].startTime).isBefore(t)&&g()(r[s].endTime).isAfter(t)&&this.setState({currentActivity:r[s],nextActivity:r[s+1]?r[s+1]:{name:"Finish"},progressBarReset:!0})}else this.setState({progressBarReset:!1});var o=g.a.duration(g()(this.state.currentActivity.endTime).diff(t)),c=100*(1-g.a.duration(g()(this.state.currentActivity.endTime).diff(t))/g.a.duration(g()(this.state.currentActivity.endTime).diff(this.state.currentActivity.startTime)));o<3e3&&(console.log(o),this.setState({playBeeps:!0})),this.setState({activityTimeRemaining:o.format("mm:ss",{trim:!1}),activityTimePercentage:c})}}},{key:"endBeeps",value:function(){this.setState({playBeeps:!1})}},{key:"render",value:function(){var e=g.a.duration(g()(this.state.currentActivity.endTime).diff(this.state.currentActivity.startTime)).asSeconds()-1;return a.a.createElement("div",null,this.state.playBeeps&&a.a.createElement("div",null,a.a.createElement(O.a,{url:S.a,playStatus:O.a.status.PLAYING,volume:this.props.isMuted?0:100,onFinishedPlaying:this.endBeeps.bind(this),autoLoad:!0})),a.a.createElement("div",{style:{backgroundColor:"exercise"===this.state.currentActivity.type?"#19A763":"#2358A7",position:"relative",height:"95vh",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}},a.a.createElement("div",{style:{width:this.state.progressBarReset?0:"100%",height:"100%",position:"absolute",left:0,top:0,bottom:0,backgroundColor:"exercise"===this.state.currentActivity.type?"#22CA7A":"#176FF2",transition:this.state.progressBarReset?" ":"width "+e+"s linear"}}),this.state.currentActivity.set&&a.a.createElement("span",{style:{fontSize:"4vw",zIndex:9999,letterSpacing:"0.1em",textTransform:"uppercase",fontWeight:600,color:"rgba(255,255,255,0.75)"}},this.state.currentActivity.set),a.a.createElement("div",{class:"monospace",style:{fontSize:"30vw",fontWeight:500,color:"white",textAlign:"center",zIndex:9999,marginTop:"-2vw"}},this.state.activityTimeRemaining),a.a.createElement("div",{style:{color:"white",fontSize:"8vw",zIndex:999}},this.state.currentActivity.name)),a.a.createElement("div",{style:{width:"100%",height:"5vh",backgroundColor:"#2C3137"}},a.a.createElement("div",{style:{width:this.state.overallTimePercentage+"%",transition:"width 1s linear",backgroundColor:"#49515E",height:"100%"}})))}}]),n}(a.a.Component),w=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){return a.a.createElement("div",{style:{position:"absolute",top:"2vw",right:"2vw"}},a.a.createElement("span",{onClick:this.props.toggleMute,style:{fontSize:"2.7vw",cursor:"pointer"}},this.props.isMuted?"\ud83d\udd15":"\ud83d\udd14"),a.a.createElement("span",{onClick:this.props.handleStop,style:{fontSize:"2.5vw",marginLeft:"2vw",cursor:"pointer"}},"\u274c"))}}]),n}(a.a.Component),B=n(14),C=n.n(B),T=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var i;return Object(o.a)(this,n),(i=t.call(this,e)).noSleep=new C.a,i.state={config:{numberOfExercises:10,durationOfExercises:45,durationOfBreak:15,numberOfSets:3,breakBetweenSets:60},isRunning:!1,isPaused:!1,currentProgressTimer:0,currentExercise:"",timestamps:{},isMuted:!1},i}return Object(c.a)(n,[{key:"updateConfig",value:function(e){this.setState({config:e})}},{key:"handleStart",value:function(){this.setState({isRunning:!0}),this.generateTimestamps(),this.noSleep.enable()}},{key:"handleStop",value:function(){this.setState({isRunning:!1}),this.noSleep.disable()}},{key:"toggleMute",value:function(){this.state.isMuted?this.setState({isMuted:!1}):this.setState({isMuted:!0})}},{key:"generateTimestamps",value:function(){var e=g()();console.log(e);var t,n=this.state.config,i=[],a=n.durationOfExercises+n.durationOfBreak,s=a*(n.numberOfExercises-1)+n.durationOfExercises+n.breakBetweenSets,r=s*n.numberOfSets-n.breakBetweenSets,o=g()(e).add(g.a.duration(r,"s"));for(console.log(a,s,o.format("h:mm:ss")),t=0;t<n.numberOfSets;t++){var c=void 0;for(c=0;c<n.numberOfExercises;c++){var l="Exercise "+(c+1),u=g()(e).add(g.a.duration(t*s+c*a,"s")),p=g()(u+g.a.duration(n.durationOfExercises,"s"));if(i.push({type:"exercise",name:l,set:"Set "+(t+1),startTime:u,endTime:p}),c<n.numberOfExercises-1){var m=g()(p+g.a.duration(n.durationOfBreak,"s"));i.push({type:"rest",name:"Rest",set:"Set "+(t+1),startTime:p,endTime:m})}}if(t<n.numberOfSets-1){var d=e+g.a.duration((t+1)*(n.durationOfExercises*n.numberOfExercises+n.durationOfBreak*(n.numberOfExercises-1))+n.breakBetweenSets*t,"s"),f=d+g.a.duration(n.breakBetweenSets,"s");i.push({set:"End of set "+(t+1),type:"restBetweenSets",name:"Rest",startTime:d,endTime:f})}}this.setState({timestamps:{startTime:e,overallEndingTime:o,activityTimestamps:i}})}},{key:"render",value:function(){return this.state.isRunning?a.a.createElement("div",null,a.a.createElement(x,{config:this.state.config,isRunning:this.state.isRunning,isPaused:this.state.isPaused,timestamps:this.state.timestamps,isMuted:this.state.isMuted}),a.a.createElement(w,{isMuted:this.state.isMuted,toggleMute:this.toggleMute.bind(this),handleStop:this.handleStop.bind(this)})):a.a.createElement(h,{config:this.state.config,updateConfig:this.updateConfig.bind(this),handleStart:this.handleStart.bind(this)})}}]),n}(a.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(T,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[15,1,2]]]);
//# sourceMappingURL=main.865063aa.chunk.js.map